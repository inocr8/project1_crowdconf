<h1>List of all tags</h1>

<% if can? :create, Tag %>
  <%= link_to 'New tag', new_tag_path %>
<% end %>

<% @tags.each do |tag| %>

  <h2><%= tag.name %></h2>

  <% if tag.events.empty? == false %>
    <h3>List of events for this tag:</h3>
      <ul>
        <% tag.events.each do |event| %>
          <li><%= link_to event.name, event_path(event) %></li>
        <% end %>
      </ul>
  <% else %>
    <h4>New events for <%= tag.name %> to be added soon!</h4>
  <% end %>

  <%= link_to('Show', tag_path(tag)) %> <% if can? :update, tag %><%= link_to('Edit', edit_tag_path(tag), method: :get) %><% end %> <% if can? :destroy, tag %><%= link_to('Delete', tag_path(tag), method: :delete, data: {confirm: 'Delete this tag? Are you sure?!'}) %><% end %>
  <br /><br />
  
<% end %>